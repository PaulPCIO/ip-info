{"ast":null,"code":"import fetch from 'isomorphic-unfetch';\nconst ip = '82.252.135.59';\nconst apiKey = 'e4bd1590-a940-47b3-b705-91ea25395c14';\nexport default (async (req, res) => {\n  try {\n    const response = await fetch(`https://signals.api.auth0.com/v2.0/ip/${ip}`, {\n      method: 'get',\n      headers: {\n        'X-Auth-Token': apiKey\n      }\n    });\n    const data = await response.json();\n    console.log(data);\n    res.status(200).json(data);\n  } catch (error) {\n    res.status(502).send(error.message);\n  }\n}); // const example = {\n//   hostname: 'lns-bzn-59-82-252-135-59.adsl.proxad.net',\n//   city: 'Paris',\n//   region: 'Île-de-France',\n//   country: 'FR',\n//   loc: '48.8648,2.3335',\n//   postal: '75008',\n//   timezone: 'Europe/Paris',\n//   asn: {\n//     asn: 'AS12322',\n//     name: 'Free SAS',\n//     domain: 'free.fr',\n//     route: '82.240.0.0/12',\n//     type: 'isp',\n//   },\n//   name: 'Free SAS',\n//   domain: 'free.fr',\n//   route: '82.240.0.0/12',\n//   type: 'isp',\n//   hosting: {\n//     host: 'proxad',\n//     id: 'FR-PROXAD-ADSL',\n//     name: 'Proxad / Free SAS',\n//     network: '82.248.0.0/13',\n//   },\n//   host: 'proxad',\n//   id: 'FR-PROXAD-ADSL',\n//   name: 'Proxad / Free SAS',\n//   network: '82.248.0.0/13',\n//   company: {\n//     name: 'Proxad / Free SAS',\n//     domain: 'free.fr',\n//     type: 'isp',\n//   },\n//   name: 'Proxad / Free SAS',\n//   domain: 'free.fr',\n//   type: 'isp',\n//   privacy: {\n//     vpn: false,\n//     proxy: false,\n//     tor: false,\n//     hosting: false,\n//   },\n//   vpn: false,\n//   proxy: false,\n//   tor: false,\n//   hosting: false,\n//   abuse: {\n//     address: '',\n//     country: 'FR',\n//     email: 'abuse@proxad.net',\n//     name: 'Administrative Contact for ProXad',\n//     network: '82.248.0.0/13',\n//     phone: '',\n//   },\n//   address: '',\n//   country: 'FR',\n//   email: 'abuse@proxad.net',\n//   name: 'Administrative Contact for ProXad',\n//   network: '82.248.0.0/13',\n//   phone: '',\n// }","map":{"version":3,"sources":["/Users/paulvandyk/Projects/Kenai/ipinfo/pages/api/index.ts"],"names":["fetch","ip","apiKey","req","res","response","method","headers","data","json","console","log","status","error","send","message"],"mappings":"AACA,OAAOA,KAAP,MAAkB,oBAAlB;AAEA,MAAMC,EAAE,GAAG,eAAX;AACA,MAAMC,MAAM,GAAG,sCAAf;AACA,gBAAe,OAAOC,GAAP,EAA4BC,GAA5B,KAAqD;AAClE,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAML,KAAK,CAAE,yCAAwCC,EAAG,EAA7C,EAAgD;AAC1EK,MAAAA,MAAM,EAAE,KADkE;AAE1EC,MAAAA,OAAO,EAAE;AAAE,wBAAgBL;AAAlB;AAFiE,KAAhD,CAA5B;AAIA,UAAMM,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAJ,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqBD,IAArB;AACD,GARD,CAQE,OAAOK,KAAP,EAAc;AACdT,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqBD,KAAK,CAACE,OAA3B;AACD;AACF,CAZD,E,CAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next'\nimport fetch from 'isomorphic-unfetch'\n\nconst ip = '82.252.135.59'\nconst apiKey = 'e4bd1590-a940-47b3-b705-91ea25395c14'\nexport default async (req: NextApiRequest, res: NextApiResponse) => {\n  try {\n    const response = await fetch(`https://signals.api.auth0.com/v2.0/ip/${ip}`, {\n      method: 'get',\n      headers: { 'X-Auth-Token': apiKey },\n    })\n    const data = await response.json()\n    console.log(data)\n    res.status(200).json(data)\n  } catch (error) {\n    res.status(502).send(error.message)\n  }\n}\n\n// const example = {\n//   hostname: 'lns-bzn-59-82-252-135-59.adsl.proxad.net',\n//   city: 'Paris',\n//   region: 'Île-de-France',\n//   country: 'FR',\n//   loc: '48.8648,2.3335',\n//   postal: '75008',\n//   timezone: 'Europe/Paris',\n//   asn: {\n//     asn: 'AS12322',\n//     name: 'Free SAS',\n//     domain: 'free.fr',\n//     route: '82.240.0.0/12',\n//     type: 'isp',\n//   },\n//   name: 'Free SAS',\n//   domain: 'free.fr',\n//   route: '82.240.0.0/12',\n//   type: 'isp',\n//   hosting: {\n//     host: 'proxad',\n//     id: 'FR-PROXAD-ADSL',\n//     name: 'Proxad / Free SAS',\n//     network: '82.248.0.0/13',\n//   },\n//   host: 'proxad',\n//   id: 'FR-PROXAD-ADSL',\n//   name: 'Proxad / Free SAS',\n//   network: '82.248.0.0/13',\n//   company: {\n//     name: 'Proxad / Free SAS',\n//     domain: 'free.fr',\n//     type: 'isp',\n//   },\n//   name: 'Proxad / Free SAS',\n//   domain: 'free.fr',\n//   type: 'isp',\n//   privacy: {\n//     vpn: false,\n//     proxy: false,\n//     tor: false,\n//     hosting: false,\n//   },\n//   vpn: false,\n//   proxy: false,\n//   tor: false,\n//   hosting: false,\n//   abuse: {\n//     address: '',\n//     country: 'FR',\n//     email: 'abuse@proxad.net',\n//     name: 'Administrative Contact for ProXad',\n//     network: '82.248.0.0/13',\n//     phone: '',\n//   },\n//   address: '',\n//   country: 'FR',\n//   email: 'abuse@proxad.net',\n//   name: 'Administrative Contact for ProXad',\n//   network: '82.248.0.0/13',\n//   phone: '',\n// }\n"]},"metadata":{},"sourceType":"module"}